"use strict";(self.webpackChunktest_app=self.webpackChunktest_app||[]).push([[281],{1281:(e,n,i)=>{i.r(n),i.d(n,{default:()=>de});var r=i(7689),t=i(2791),s=i(1087),o=i(4280),a=i(5193),l=i(6314),d=i(2880),c=i(3400),x=i(6043),h=i(6120),p=i(8708),u=i(7575),j=i(2428),g=i(6934),Z=i(431),m=i(1553),v=i(3044),f=i(890),k=i(911),b=i(5021),w=i(6278),C=i(7064),P=i(9900),y=i(2024),L=i(1659),S=i(8774),T=i(2363),F=i(4420),I=i(3358),A=i(3713),z=i(3542),B=i(697),M=i(9709),E=i(184);const R=()=>(0,E.jsxs)("svg",{width:"52",height:"52",viewBox:"0 0 52 52",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,E.jsx)("rect",{width:"52",height:"52",rx:"26",fill:"#DAEBFF"}),(0,E.jsx)("path",{d:"M22.3834 20.8193C22.745 16.6193 24.9034 14.9043 29.6284 14.9043H29.78C34.995 14.9043 37.0834 16.9926 37.0834 22.2076V29.8143C37.0834 35.0293 34.995 37.1176 29.78 37.1176H29.6284C24.9384 37.1176 22.78 35.426 22.395 31.296",stroke:"#0068A8","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),(0,E.jsx)("path",{d:"M29.5 26H16.2233",stroke:"#0068A8","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),(0,E.jsx)("path",{d:"M18.825 22.0918L14.9167 26.0001L18.825 29.9085",stroke:"#0068A8","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})]}),W=(0,g.ZP)(z.Z)((()=>({"& .MuiPaper-root":{padding:"32px 24px!important",minWidth:"350px",boxShadow:"0px 8px 8px -4px #1018280A",borderRadius:"4px"}}))),D=e=>{let{open:n,handleClose:i,onClickLogout:r,isLoading:t}=e;return(0,E.jsx)(W,{onClose:i,open:n,children:(0,E.jsxs)(l.Z,{justifyContent:"center",alignItems:"center",children:[(0,E.jsx)(R,{}),(0,E.jsx)(f.Z,{gutterBottom:!0,variant:"h6",textAlign:"center",children:"Logout from Reel Moment"}),(0,E.jsx)(f.Z,{marginBottom:2,fontSize:14,color:"#667085",textAlign:"center",children:"Are you sure you want to logout form Reel Moment?"}),(0,E.jsxs)(B.Z,{display:"flex",alignItems:"center",justifyContent:"center",gap:2,children:[(0,E.jsx)(d.Z,{sx:{paddingX:"40px"},size:"large",fullWidth:!0,onClick:i,variant:"outlined",children:" Cancel "}),(0,E.jsx)(M.Z,{sx:{paddingX:"40px"},size:"large",fullWidth:!0,loading:t,variant:"contained",onClick:r,children:"Logout"})]})]})})};var H=i(9970);const O=(0,g.ZP)(s.rU)((e=>{let{theme:n}=e;return{textDecoration:"none",color:n.palette.text.primary}})),U=()=>{var e;const n=(0,F.I0)(),[i,r]=t.useState(null),s=Boolean(i),[o,a]=t.useState(!1),[d,{isLoading:c}]=(0,H._y)(),x=(0,F.v9)((e=>{var n;return null===e||void 0===e||null===(n=e.user)||void 0===n?void 0:n.userInfo})),h=()=>{r(null)},p={color:m.zP,minWidth:"40px"};return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsxs)(l.Z,{direction:"column",alignItems:"center",spacing:1,children:[(0,E.jsx)(v.Z,{alt:"avatar",onClick:e=>{r(e.currentTarget)},sx:{cursor:"pointer"},children:x.username&&(null===x||void 0===x||null===(e=x.username)||void 0===e?void 0:e.charAt(0))}),(0,E.jsx)(f.Z,{children:null===x||void 0===x?void 0:x.username})]}),(0,E.jsxs)(k.Z,{id:"basic-menu",anchorEl:i,open:s,onClose:h,MenuListProps:{"aria-labelledby":"basic-button"},children:[(0,E.jsx)(O,{to:"/profile",children:(0,E.jsx)(b.ZP,{disablePadding:!0,onClick:h,children:(0,E.jsxs)(w.Z,{children:[(0,E.jsx)(C.Z,{sx:p,children:(0,E.jsx)(y.Z,{})}),(0,E.jsx)(P.Z,{primary:"Profile Settings"})]})})}),(0,E.jsx)(O,{to:"/contact",children:(0,E.jsx)(b.ZP,{disablePadding:!0,onClick:h,children:(0,E.jsxs)(w.Z,{children:[(0,E.jsx)(C.Z,{sx:p,children:(0,E.jsx)(L.Z,{})}),(0,E.jsx)(P.Z,{primary:"Contact us"})]})})}),(0,E.jsx)(O,{to:"/legal-agreement",children:(0,E.jsx)(b.ZP,{disablePadding:!0,onClick:h,children:(0,E.jsxs)(w.Z,{children:[(0,E.jsx)(C.Z,{sx:p,children:(0,E.jsx)(S.Z,{})}),(0,E.jsx)(P.Z,{primary:"Legal Agreement"})]})})}),(0,E.jsx)(b.ZP,{disablePadding:!0,children:(0,E.jsxs)(w.Z,{onClick:()=>{a(!0),h()},children:[(0,E.jsx)(C.Z,{sx:p,children:(0,E.jsx)(T.Z,{sx:{rotate:"180deg"}})}),(0,E.jsx)(P.Z,{primary:"Sign Out"})]})})]}),(0,E.jsx)(D,{open:o,handleClose:()=>{a(!1)},onClickLogout:()=>{const e={refresh:null===I.T||void 0===I.T?void 0:I.T.getRefreshToken()};d(e).unwrap().then((()=>{n((0,A.zb)()),a(!1),I.T.logout()})).catch((e=>{console.log(e)}))},isLoading:c})]})};var _=i(3967),G=i(9953),X=i(4395),V=i(4663),q=i(493),J=i(4721),K=i(8008),N=i(1009),Q=i(8996),Y=i(8698),$=i(5335);const ee=240,ne=(0,g.ZP)("main",{shouldForwardProp:e=>"open"!==e})((e=>{let{theme:n,open:i}=e;return{flexGrow:1,padding:n.spacing(3),transition:n.transitions.create("margin",{easing:n.transitions.easing.sharp,duration:n.transitions.duration.leavingScreen}),marginLeft:"-".concat(ee,"px"),...i&&{transition:n.transitions.create("margin",{easing:n.transitions.easing.easeOut,duration:n.transitions.duration.enteringScreen}),marginLeft:0}}})),ie=(0,g.ZP)(X.Z,{shouldForwardProp:e=>"open"!==e})((e=>{let{theme:n,open:i}=e;return{transition:n.transitions.create(["margin","width"],{easing:n.transitions.easing.sharp,duration:n.transitions.duration.leavingScreen}),...i&&{width:"calc(100% - ".concat(ee,"px)"),marginLeft:"".concat(ee,"px"),transition:n.transitions.create(["margin","width"],{easing:n.transitions.easing.easeOut,duration:n.transitions.duration.enteringScreen})}}})),re=(0,g.ZP)("div")((e=>{let{theme:n}=e;return{display:"flex",alignItems:"center",padding:n.spacing(0,1),...n.mixins.toolbar,justifyContent:"flex-end"}})),te=()=>{const e=(0,_.Z)(),[n,i]=t.useState(!1);return(0,E.jsxs)("div",{children:[(0,E.jsx)(ie,{position:"fixed",open:n,children:(0,E.jsxs)(V.Z,{children:[(0,E.jsx)(c.Z,{color:"inherit","aria-label":"open drawer",onClick:()=>{i(!0)},edge:"start",sx:{mr:2,...n&&{display:"none"}},children:(0,E.jsx)(K.Z,{})}),(0,E.jsx)(f.Z,{variant:"h6",noWrap:!0,component:"div",children:"Persistent drawer"})]})}),(0,E.jsxs)(G.ZP,{sx:{width:ee,flexShrink:0,"& .MuiDrawer-paper":{width:ee,boxSizing:"border-box"}},variant:"persistent",anchor:"left",open:n,children:[(0,E.jsx)(re,{children:(0,E.jsx)(c.Z,{onClick:()=>{i(!1)},children:"ltr"===e.direction?(0,E.jsx)(N.Z,{}):(0,E.jsx)(Q.Z,{})})}),(0,E.jsx)(J.Z,{}),(0,E.jsx)(q.Z,{children:["Inbox","Starred","Send email","Drafts"].map(((e,n)=>(0,E.jsx)(b.ZP,{disablePadding:!0,children:(0,E.jsxs)(w.Z,{children:[(0,E.jsx)(C.Z,{children:n%2===0?(0,E.jsx)(Y.Z,{}):(0,E.jsx)($.Z,{})}),(0,E.jsx)(P.Z,{primary:e})]})},e)))}),(0,E.jsx)(J.Z,{}),(0,E.jsx)(q.Z,{children:["All mail","Trash","Spam"].map(((e,n)=>(0,E.jsx)(b.ZP,{disablePadding:!0,children:(0,E.jsxs)(w.Z,{children:[(0,E.jsx)(C.Z,{children:n%2===0?(0,E.jsx)(Y.Z,{}):(0,E.jsx)($.Z,{})}),(0,E.jsx)(P.Z,{primary:e})]})},e)))})]}),(0,E.jsx)(ne,{open:n,children:(0,E.jsx)(re,{})})]})},se=((0,g.ZP)(o.Z)((()=>({"& .MuiInput-root":{backgroundColor:"#F3F6FA !important",padding:"8px 12px",gap:"8px",":before":{borderBottom:"none!important"},":after":{borderBottom:"none!important"}}}))),(0,g.ZP)(s.rU)((e=>{let{theme:n}=e;return{textDecoration:"none",color:n.palette.text.primary,fontWeight:500,"&:hover":{color:n.palette.primary.main}}})),{border:"#E1E1E6 solid 2px",borderRadius:"50%"}),oe=e=>{let{children:n}=e;const{pathname:i}=(0,r.TH)(),t=(0,a.Z)("(max-width:900px)");return(0,E.jsxs)(E.Fragment,{children:["/onboarding"!==i?t?(0,E.jsx)(te,{}):(0,E.jsx)(l.Z,{p:2,border:"1px solid #E6F0FF",children:(0,E.jsxs)(l.Z,{direction:"row",justifyContent:"space-between",alignItems:"center",children:[(0,E.jsx)(s.rU,{to:"/home",children:(0,E.jsx)(Z.Z,{width:"199",height:"41"})}),(0,E.jsxs)(l.Z,{direction:"row",spacing:2,alignItems:"flex-start",children:[(0,E.jsx)(d.Z,{size:"large",sx:{borderRadius:"100px!important"},variant:"contained",startIcon:(0,E.jsx)(j.Z,{}),children:"Create moment"}),(0,E.jsxs)(c.Z,{sx:{color:m.zP,...se},children:[" ",(0,E.jsx)(h.Z,{})," "]}),(0,E.jsx)(x.Z,{color:"primary",children:(0,E.jsx)(p.Z,{sx:{...se,padding:1}})}),(0,E.jsxs)(c.Z,{sx:{color:m.zP,...se},children:[" ",(0,E.jsx)(u.Z,{})," "]}),(0,E.jsx)(U,{})]})]})}):null,(0,E.jsx)(E.Fragment,{children:n})]})};var ae=i(4321),le=i(7440);const de=()=>{const{isLoading:e,authenticated:n}=(0,le.Z)();return e?(0,E.jsx)(ae.Z,{}):n?(0,E.jsx)(oe,{children:(0,E.jsx)(r.j3,{})}):(0,E.jsx)(r.Fg,{to:"/login"})}},7440:(e,n,i)=>{i.d(n,{Z:()=>l});var r=i(2791),t=i(4420),s=i(3358),o=i(9970),a=i(3713);const l=()=>{const e=(0,t.I0)(),n=(0,t.v9)((e=>{var n;return null===e||void 0===e||null===(n=e.user)||void 0===n?void 0:n.userInfo})),{data:i,isSuccess:l,isError:d,error:c,isLoading:x}=(0,o.GR)(s.T.getToken(),{skip:Boolean(null===n||void 0===n?void 0:n.id)||!(s.T.getToken()||s.T.getRefreshToken())});return(0,r.useEffect)((()=>{l&&!Boolean(null===n||void 0===n?void 0:n.email)&&e((0,a.he)(i))}),[l,i,e,n.email]),x?{isLoading:x,authenticated:!1}:d?(console.log(c,"error"),e((0,a.zb)()),s.T.logout(),{isLoading:x,authenticated:!1}):{authenticated:l||Boolean(null===n||void 0===n?void 0:n.id)&&s.T.getToken(),isLoading:x}}}}]);
//# sourceMappingURL=281.11dc1357.chunk.js.map